<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,Chrome=1"/>
    <meta name="renderer" content="webkit"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>测试页面</title>
    <!--  公共模块JS-->
    <script src="../plugins/jquery/jquery-1.10.1.min.js"></script>
    <script src="../scripts/api/common-rule.js"></script>
    <script src="../scripts/common/common.js"></script>
    <script src="../scripts/api/common-event.js"></script>
    <script src="../scripts/api/common-listen.js"></script>
    <script src="../plugins/mustache/mustache.min.js"></script>
    <script src="../scripts/api/common-template.js"></script>
    <script src="../scripts/api/common-url.js"></script>
    <!-- 表单容器 -->
    <script src="../scripts/components/cb-form.js"></script>
    <!-- 容器 -->
    <script src="../scripts/components/cb-view.js"></script>
    <!-- 按钮 -->
    <script src="../scripts/components/cb-btn.js"></script>
    <!-- 输入框 -->
    <script src="../scripts/components/cb-input.js"></script>
    <!-- 单选 -->
    <script src="../scripts/components/cb-radio.js"></script>
    <!-- 多选 -->
    <script src="../scripts/components/cb-checkbox.js"></script>
    <!-- 下拉框 -->
    <script src="../scripts/components/cb-select.js"></script>
    <!-- 文本 -->
    <script src="../scripts/components/cb-text.js"></script>
    <!-- 表单内基础组件 -->
    <script src="../scripts/components/cb-form-base.js"></script>
    <!--标题-->
    <script src="../scripts/components/cb-title.js"></script>
    <!--主导航栏-->
    <script src="../scripts/components/cb-main-nav.js"></script>
    <!--左导航栏-->
    <script src="../scripts/components/cb-left-nav.js"></script>
    <!--图标-->
    <script src="../scripts/components/cb-icon.js"></script>
    <!--面包导航栏-->
    <script src="../scripts/components/cb-breadcrumbs.js"></script>
    <!--title-->
    <script src="../scripts/components/cb-title.js"></script>
    <!--textarea-->
    <script src="../scripts/components/cb-textarea.js"></script>
    <!--模态框-->
    <script src="../scripts/components/cb-modal.js"></script>
    <!--表格-->
    <script src="../plugins/pagination/script/pagination.js"></script>
    <script src="../scripts/components/cb-table.js"></script>
    <script src="../scripts/components/base-components/cb-business-table.js"></script>
</head>
<body>
<cb-view  listen={"verticalFoldUp":"verticalFoldUpFunction"} class="cb-view-black main-nav-height clearfix">
    <cb-view class="cb-view-left clearfix">
        <cb-text class ="cb-text-logo" data-options='{"labelText":"迪科能力平台","type":"text"}'></cb-text>
        <cb-text class="cb-text-logo-remark" data-options='{"labelText":"号卡","type":"text"}'></cb-text>
        <cb-main-nav class="cb-main-nav-black" data-options='{"ctype":"blue","service":"111","navListName":"navList","navTextName":"navText","flagName":"flag","url":"data-main-nav.json"}'></cb-main-nav>
    </cb-view>
    <cb-view class="cb-view-right clearfix">
        <cb-input class="cb-input-search"  data-options='{"name":"input1"}'>
            <cb-icon class="" data-options='{"ctype":"icon-search","imageUrl":"../images/cb-icon/icon-search.png"}'></cb-icon>
        </cb-input>
        <cb-icon class="" data-options='{"ctype":"icon-notice-gray","imageUrl":"../images/cb-icon/icon-notice-gray.png"}'>
            <cb-text class="cb-text-remark" data-options='{"labelText":"99","type":"text","service":"11111","name":"num","url":"text_data.json","onVauled":"if(parseInt(returnData[options.name])>99){returnData[options.name] = 99;}"}'></cb-text>
        </cb-icon>
        <cb-text class="cb-text-color-white" data-options='{"labelText":"张三","type":"text","service":"11111","name":"text","url":"text_data.json"}'>
            <cb-icon class="" data-options='{"ctype":"icon-arrow-down","imageUrl":"../images/cb-icon/icon-arrow-down.png"}'></cb-icon>
        </cb-text>
    </cb-view>
</cb-view>
<cb-view class="cb-view-block" listen={"verticalFoldUp":"verticalSpreadFunction"}>
    <cb-view  class="cb-view-left-block left-nav-height" listen={"crossFoldUp":"crossFoldUpFunction"} data-options='{"width":"267px"}'>
        <cb-view class="cb-view-block-border clearfix" data-options='{"padding":["0","20px","0","20px"]}'>
            <cb-icon class="" data-options='{"ctype":"icon-notice-blue","imageUrl":"../images/cb-icon/icon-notice-blue.png","height":"48px","width":"16px"}'></cb-icon>
            <cb-text class ="" data-options='{"labelText":"通知：","type":"text","height":"48px"}'></cb-text>
            <cb-text class="cb-text-ellipsis" data-options='{"labelText":"好消息好消息好消息好消息好消息好消息好消息好消息","type":"text","height":"48px","width":"160px"}'></cb-text>
         </cb-view>
        <cb-left-nav data-options='{"service":"111","navListName":"navList","navTextName":"navText","flagName":"flag","url":"data-left-nav.json","hrefName":"href","iconClassName":"iconClass"}'></cb-left-nav>
    </cb-view>
    <cb-view class="cb-view-block" listen={"crossFoldUp":"crossSpreadFunction"}
             data-options='{"padding":["0","0","0","267px"]}'>
        <cb-breadcrumbs listen={"breadcrumbsInfo":"breadcrumbsFunction"}
                        data-options='{"isTransverse":true,"isVertical":true,"padding":["0","0","0","20px"]}'></cb-breadcrumbs>
        <cb-form class="cb-form-default" listen={"submitData":"formSubmit"}>
            <cb-view class="cb-view-block" data-options='{"padding":["20px","20px","0","20px"]}'>
                <cb-title data-options='{"width":"","borderPosition":"left"}'>申请信息</cb-title>
                <cb-form class="cb-form-default">
                    <cb-view class="cb-view-block clearfix" data-options='{"padding":["10px","0","5px","0"]}'>
                        <cb-form-base listen={"clearData":"clearInput","inputValue":"inputValueFunction"} bindcl="modalShow,show" data-options='{"item":"input","width":"60%","labelOptions":{"labelText":"租户","type":"label","width":"15%","height":"30px"},
"itemComponentOptions":{"name":"danhao","placeholder":"请选择租户","width":"80%","height":"30px","borderRadius":["0"],"isReadonly":true}}'></cb-form-base>
                        <cb-btn class="btn-default" bindcl="clearOperation,clearData">重置
                        </cb-btn>
                    </cb-view>
                </cb-form>
                <cb-view class="cb-view-block clearfix" data-options='{"padding":["5px","0","10px","0"]}'>
                    <cb-form-base data-options='{"item":"textarea","width":"60%","labelOptions":{"labelText":"租户","type":"label","width":"15%"},
"itemComponentOptions":{"name":"goodLevel","width":"80%","borderRadius":["0"],"height":"200px"}}'></cb-form-base>
                </cb-view>
                <cb-view class="cb-view-block clearfix" data-options='{"padding":["5px","0","10px","0"]}'>
                    <cb-btn class="btn-blue" bindcl="submitForm,submitData"
                            data-options='{"padding":["0","30px","0","30px"],"height":"36px"}'>申请
                    </cb-btn>
                </cb-view>
            </cb-view>
        </cb-form>
    </cb-view>
</cb-view>

<!--模态框-->
<cb-modal  listen={"show":"showModal","modalHide":"hideModalFunction"} data-options = '{"ctype":"blue","title":"选择用户","primaryPostion":[266,30,30,40],"isShowMaskLayer":true,"isShowCloseIcon":true,"closeIconLocation":"rightUp","draggable":true,"beforeCloseProcessor":"Fun1","isShowConfirmBtn":false,"isShowCancelBtn":false}'>
    <cb-form class="cb-form-default" listen={"clearData1":"clearInput","show":"getInitFormData"}>
    <cb-view class="border-bottom clearfix" data-options='{"padding":["15px","0","15px","0"]}'>
        <cb-view class="cb-view-left clearfix">
            <cb-form-base class="" data-options='{"item":"input","labelOptions":{"labelText":"租户名称","type":"label","width":"100px","height":"30px"},
"itemComponentOptions":{"placeholder":"","name":"input1","borderRadius":["0"],"height":"30px","width":"260px"}}'></cb-form-base>
            <cb-form-base class=""  data-options='{"item":"select",
            "labelOptions":{"labelText":"用户类型","type":"label","width":"100px","height":"30px"},
"itemComponentOptions":{"height":"30px","width":"260px","service":"111","name":"goodLevel","list":"outputParamList","value":"key","text":"value","url":"checkbox-data.json"}}'></cb-form-base>
        </cb-view>
        <cb-view class="cb-view-right">
            <cb-btn class="btn-blue btn-left btn-margin-right" bindcl="serialize,loading"  data-options='{"padding":["0","20px","0","20px"],"height":"30px"}'>查询</cb-btn>
            <cb-btn class="btn-default btn-left  btn-margin-right" bindcl="clearOperation,clearData1" data-options='{"padding":["0","20px","0","20px"],"height":"30px"}'>重置</cb-btn>
        </cb-view>
    </cb-view>
    </cb-form>
    <cb-view class="clearfix" data-options='{"padding":["15px","0","15px","0"]}'>
        <cb-btn class="btn-blue btn-right btn-margin-right" bindcl="getSelectedData,getData"  data-options='{"padding":["0","20px","0","20px"],"height":"30px"}'>确定</cb-btn>
    </cb-view>

    <cb-business-table  listen={"getData":"getSelectedDataFunction","loading":"loadTable","initTableData":"loadTable"} class="cb-business-table-blue" data-options='{
          "pagination":true,
          "method":"post",
          "chooseBox":"radio",
          "url":"table_data.json",
          "tbodyService":"123456",
          "homePage":"",
          "endPage":"",
          "prevContent":"",
          "nextContent":"",
          "isPageSearch":true,
          "keepShowPN":false,
          "isPageShowAll":false,
          "cache":true,
          "thead":{
            "data":[
                [
                  {"contents":"首付款单号","field":"danhao","formatter":"Hyperlink","class":"er"},
                  {"contents":"转售企业","field":"qiye", "class":"er2"},
                  {"contents":"结算账期","field":"moneytime","class":"erdf"},
                  {"contents":"收付款金额","field":"money", "class":"ervf"},
                  {"contents":"申请人","field":"people","class":"ercd"}
                ]
            ],
            "merge":[]
          },
          "tbody":{
            "data":[

            ],
            "merge":[]
          },
          "tips":{

          }
      }'
    >
    </cb-business-table>
    <cb-btn class="btn-default btn-left  btn-margin-right" bindcl="modalHideFunction,modalHide" data-options='{"padding":["0","20px","0","20px"],"height":"30px"}'>关闭</cb-btn>
</cb-modal>

<script>
    $(window).load(function(){
         $('.left-nav-height').css('min-height',$('body').height()-$('.main-nav-height').height()+'px');
    });

    (function(){
        EventListenr.addListenr("getSelectedDataFunction",function(){
            var selectedData = CbBusinessTable.getSelectionsFrom($(this));
            if(selectedData){
                Event.trigger('inputValue',selectedData);
                Event.trigger('modalHide');
            }else{
                console.log("请选择数据");
            }
        })
    })();
    (function(){
        EventListenr.addListenr("inputValueFunction",function(selectedData) {
            var $this = $(this);
            $.each(selectedData[0], function (key, item) {
                if(item.field === $this.find('input').attr('name')){
                    $this.find('input[name="'+item.field+'"]').val(item.contents);
                }
            })
        })
    })();
</script>

</body>

</html>
